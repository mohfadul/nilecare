{"code":"ER_BAD_FIELD_ERROR","errno":1054,"level":"error","message":"Error fetching appointments: Unknown column 'organization_id' in 'where clause'","service":"business-service","sql":"SELECT COUNT(*) as count FROM appointments WHERE organization_id = 'default-org'","sqlMessage":"Unknown column 'organization_id' in 'where clause'","sqlState":"42S22","stack":"Error: Unknown column 'organization_id' in 'where clause'\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at AppointmentService.getAllAppointments (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\AppointmentService.ts:65:41)\n    at getAllAppointments (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\AppointmentController.ts:23:52)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:00:11"}
{"code":"ER_BAD_FIELD_ERROR","errno":1054,"level":"error","message":"Error in getAllAppointments: Unknown column 'organization_id' in 'where clause'","service":"business-service","sql":"SELECT COUNT(*) as count FROM appointments WHERE organization_id = 'default-org'","sqlMessage":"Unknown column 'organization_id' in 'where clause'","sqlState":"42S22","stack":"Error: Unknown column 'organization_id' in 'where clause'\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at AppointmentService.getAllAppointments (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\AppointmentService.ts:65:41)\n    at getAllAppointments (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\AppointmentController.ts:23:52)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:00:11"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error fetching billings: Table 'nilecare.billings' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM billings WHERE 1=1","sqlMessage":"Table 'nilecare.billings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.billings' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at BillingService.getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\BillingService.ts:49:41)\n    at getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\BillingController.ts:27:48)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:25:04"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error in getAllBillings: Table 'nilecare.billings' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM billings WHERE 1=1","sqlMessage":"Table 'nilecare.billings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.billings' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at BillingService.getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\BillingService.ts:49:41)\n    at getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\BillingController.ts:27:48)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:25:04"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error fetching staff: Table 'nilecare.staff' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM staff WHERE 1=1","sqlMessage":"Table 'nilecare.staff' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.staff' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at StaffService.getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\StaffService.ts:50:41)\n    at getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\StaffController.ts:27:46)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:42"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error in getAllStaff: Table 'nilecare.staff' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM staff WHERE 1=1","sqlMessage":"Table 'nilecare.staff' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.staff' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at StaffService.getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\StaffService.ts:50:41)\n    at getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\StaffController.ts:27:46)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:42"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error fetching billings: Table 'nilecare.billings' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM billings WHERE 1=1","sqlMessage":"Table 'nilecare.billings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.billings' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at BillingService.getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\BillingService.ts:49:41)\n    at getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\BillingController.ts:27:48)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:42"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error in getAllBillings: Table 'nilecare.billings' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM billings WHERE 1=1","sqlMessage":"Table 'nilecare.billings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.billings' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at BillingService.getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\BillingService.ts:49:41)\n    at getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\BillingController.ts:27:48)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:42"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error fetching staff: Table 'nilecare.staff' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM staff WHERE 1=1","sqlMessage":"Table 'nilecare.staff' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.staff' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at StaffService.getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\StaffService.ts:50:41)\n    at getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\StaffController.ts:27:46)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:42"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error in getAllStaff: Table 'nilecare.staff' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM staff WHERE 1=1","sqlMessage":"Table 'nilecare.staff' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.staff' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at StaffService.getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\StaffService.ts:50:41)\n    at getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\StaffController.ts:27:46)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:42"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error fetching billings: Table 'nilecare.billings' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM billings WHERE 1=1","sqlMessage":"Table 'nilecare.billings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.billings' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at BillingService.getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\BillingService.ts:49:41)\n    at getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\BillingController.ts:27:48)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:42"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error in getAllBillings: Table 'nilecare.billings' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM billings WHERE 1=1","sqlMessage":"Table 'nilecare.billings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.billings' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at BillingService.getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\BillingService.ts:49:41)\n    at getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\BillingController.ts:27:48)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:42"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error fetching billings: Table 'nilecare.billings' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM billings WHERE 1=1","sqlMessage":"Table 'nilecare.billings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.billings' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at BillingService.getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\BillingService.ts:49:41)\n    at getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\BillingController.ts:27:48)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:50"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error in getAllBillings: Table 'nilecare.billings' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM billings WHERE 1=1","sqlMessage":"Table 'nilecare.billings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.billings' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at BillingService.getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\BillingService.ts:49:41)\n    at getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\BillingController.ts:27:48)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:50"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error fetching staff: Table 'nilecare.staff' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM staff WHERE 1=1","sqlMessage":"Table 'nilecare.staff' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.staff' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at StaffService.getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\StaffService.ts:50:41)\n    at getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\StaffController.ts:27:46)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:50"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error in getAllStaff: Table 'nilecare.staff' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM staff WHERE 1=1","sqlMessage":"Table 'nilecare.staff' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.staff' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at StaffService.getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\StaffService.ts:50:41)\n    at getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\StaffController.ts:27:46)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:50"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error fetching billings: Table 'nilecare.billings' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM billings WHERE 1=1","sqlMessage":"Table 'nilecare.billings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.billings' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at BillingService.getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\BillingService.ts:49:41)\n    at getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\BillingController.ts:27:48)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:50"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error in getAllBillings: Table 'nilecare.billings' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM billings WHERE 1=1","sqlMessage":"Table 'nilecare.billings' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.billings' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at BillingService.getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\BillingService.ts:49:41)\n    at getAllBillings (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\BillingController.ts:27:48)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:50"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error fetching staff: Table 'nilecare.staff' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM staff WHERE 1=1","sqlMessage":"Table 'nilecare.staff' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.staff' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at StaffService.getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\StaffService.ts:50:41)\n    at getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\StaffController.ts:27:46)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:50"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"Error in getAllStaff: Table 'nilecare.staff' doesn't exist","service":"business-service","sql":"SELECT COUNT(*) as count FROM staff WHERE 1=1","sqlMessage":"Table 'nilecare.staff' doesn't exist","sqlState":"42S02","stack":"Error: Table 'nilecare.staff' doesn't exist\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at StaffService.getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\StaffService.ts:50:41)\n    at getAllStaff (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\controllers\\StaffController.ts:27:46)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\errorHandler.ts:46:21)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)","timestamp":"2025-10-13 14:26:50"}
{"code":"VALIDATION_ERROR","details":[{"field":"id","message":"\"id\" must be a valid GUID","type":"params"}],"level":"error","message":"Error occurred: Validation failed","method":"GET","path":"/api/v1/appointments/apt_1760203991508","service":"business-service","stack":"ValidationError: Validation failed\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:56:19)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:365:14)","statusCode":400,"timestamp":"2025-10-13 15:06:17"}
{"code":"VALIDATION_ERROR","details":[{"field":"id","message":"\"id\" must be a valid GUID","type":"params"}],"level":"error","message":"Error occurred: Validation failed","method":"GET","path":"/api/v1/appointments/apt_1760203991508","service":"business-service","stack":"ValidationError: Validation failed\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:56:19)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:365:14)","statusCode":400,"timestamp":"2025-10-13 15:06:17"}
{"code":"VALIDATION_ERROR","details":[{"field":"id","message":"\"id\" must be a valid GUID","type":"params"}],"level":"error","message":"Error occurred: Validation failed","method":"GET","path":"/api/v1/appointments/apt_1760203991508","service":"business-service","stack":"ValidationError: Validation failed\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:56:19)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:365:14)","statusCode":400,"timestamp":"2025-10-13 15:06:24"}
{"code":"VALIDATION_ERROR","details":[{"field":"id","message":"\"id\" must be a valid GUID","type":"params"}],"level":"error","message":"Error occurred: Validation failed","method":"GET","path":"/api/v1/appointments/apt_1760203991508","service":"business-service","stack":"ValidationError: Validation failed\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:56:19)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:365:14)","statusCode":400,"timestamp":"2025-10-13 15:06:25"}
{"code":"VALIDATION_ERROR","details":[{"field":"id","message":"\"id\" must be a valid GUID","type":"params"}],"level":"error","message":"Error occurred: Validation failed","method":"GET","path":"/api/v1/appointments/schedule","service":"business-service","stack":"ValidationError: Validation failed\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:56:19)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:365:14)","statusCode":400,"timestamp":"2025-10-13 15:09:45"}
{"code":"VALIDATION_ERROR","details":[{"field":"id","message":"\"id\" must be a valid GUID","type":"params"}],"level":"error","message":"Error occurred: Validation failed","method":"GET","path":"/api/v1/appointments/schedule","service":"business-service","stack":"ValidationError: Validation failed\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:56:19)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:365:14)","statusCode":400,"timestamp":"2025-10-13 15:09:45"}
{"code":"VALIDATION_ERROR","details":[{"field":"id","message":"\"id\" must be a valid GUID","type":"params"}],"level":"error","message":"Error occurred: Validation failed","method":"GET","path":"/api/v1/appointments/waitlist","service":"business-service","stack":"ValidationError: Validation failed\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:56:19)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:365:14)","statusCode":400,"timestamp":"2025-10-13 15:09:51"}
{"code":"VALIDATION_ERROR","details":[{"field":"id","message":"\"id\" must be a valid GUID","type":"params"}],"level":"error","message":"Error occurred: Validation failed","method":"GET","path":"/api/v1/appointments/waitlist","service":"business-service","stack":"ValidationError: Validation failed\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:56:19)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:365:14)","statusCode":400,"timestamp":"2025-10-13 15:09:51"}
{"code":"VALIDATION_ERROR","details":[{"field":"id","message":"\"id\" must be a valid GUID","type":"params"}],"level":"error","message":"Error occurred: Validation failed","method":"GET","path":"/api/v1/appointments/apt_1760203991508","service":"business-service","stack":"ValidationError: Validation failed\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:56:19)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:365:14)","statusCode":400,"timestamp":"2025-10-13 15:36:46"}
{"code":"VALIDATION_ERROR","details":[{"field":"id","message":"\"id\" must be a valid GUID","type":"params"}],"level":"error","message":"Error occurred: Validation failed","method":"GET","path":"/api/v1/appointments/apt_1760203991508","service":"business-service","stack":"ValidationError: Validation failed\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\validation.ts:56:19)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at <anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auth.ts:203:5)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\express\\lib\\router\\index.js:365:14)","statusCode":400,"timestamp":"2025-10-13 15:36:47"}
{"code":"ECONNREFUSED","level":"error","message":"❌ Failed to create audit_logs table:","service":"business-service","stack":"Error\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at AuditLogService.ensureTableExists (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\AuditLogService.ts:356:21)\n    at createAuditMiddleware (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auditMiddleware.ts:123:19)\n    at authMiddleware (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\index.ts:161:9)\n    at Object.<anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\index.ts:409:4)\n    at Module._compile (node:internal/modules/cjs/loader:1706:14)\n    at Object.transformer (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\tsx\\dist\\register-D46fvsV_.cjs:3:1104)\n    at Module.load (node:internal/modules/cjs/loader:1441:32)\n    at Function._load (node:internal/modules/cjs/loader:1263:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-10-13 17:42:56"}
{"code":"ECONNREFUSED","level":"error","message":"❌ Failed to create audit_logs table:","service":"business-service","stack":"Error\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at AuditLogService.ensureTableExists (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\AuditLogService.ts:356:21)\n    at createAuditMiddleware (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auditMiddleware.ts:123:19)\n    at authMiddleware (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\index.ts:161:9)\n    at Object.<anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\index.ts:409:4)\n    at Module._compile (node:internal/modules/cjs/loader:1706:14)\n    at Object.transformer (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\tsx\\dist\\register-D46fvsV_.cjs:3:1104)\n    at Module.load (node:internal/modules/cjs/loader:1441:32)\n    at Function._load (node:internal/modules/cjs/loader:1263:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-10-13 17:49:38"}
{"code":"ECONNREFUSED","level":"error","message":"❌ Failed to create audit_logs table:","service":"business-service","stack":"Error\n    at PromisePool.query (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\mysql2\\lib\\promise\\pool.js:36:22)\n    at AuditLogService.ensureTableExists (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\services\\AuditLogService.ts:356:21)\n    at createAuditMiddleware (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\middleware\\auditMiddleware.ts:123:19)\n    at authMiddleware (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\index.ts:161:9)\n    at Object.<anonymous> (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\microservices\\business\\src\\index.ts:409:4)\n    at Module._compile (node:internal/modules/cjs/loader:1706:14)\n    at Object.transformer (C:\\Users\\pc\\OneDrive\\Desktop\\NileCare\\node_modules\\tsx\\dist\\register-D46fvsV_.cjs:3:1104)\n    at Module.load (node:internal/modules/cjs/loader:1441:32)\n    at Function._load (node:internal/modules/cjs/loader:1263:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","timestamp":"2025-10-13 18:00:18"}
